Mind Map generated by NB MindMap plugin   
> __version__=`1.1`,showJumps=`true`
---

# spring boot devtools
- NOTE
<pre>https://blog.csdn.net/cxy35/article/details/105363784/</pre>

## 类文件热部署
- NOTE
<pre>DevTools 针对类文件的热部署，主要由两个不同的 classloader 实现： base classloader 和 
restart classloader(RestartClassLoader) 。其中 base classloader 用来加载那些不会变化的类，
例如各种第三方依赖。而 restart classloader 则用来加载那些会发生变化的类，例如你自己写的代码。 
Spring Boot 中热部署的原理就是当类文件发生变化时， base classloader 不变，
而 restart classloader 则会被废弃，被另一个新的 restart classloader 代替。
在整个过程中，因为只重新加载了变化的类，所以启动速度要比整个项目启动要快。

RestartClassLoader是base classloader的子类加载器，所以根据类加载器命名空间的规则，
RestartClassLoader加载的类是可以访问base classloader加载的类的。
这也符合我们的逻辑，自己写的业务类肯定会访问依赖的第三方类。

@RestController
public class TestController {
    @RequestMapping(&quot;/mock&quot;)
    public String mock(String name) {
        return &quot;Hello&quot; + name + &quot;!&quot;;
    }

    @GetMapping(&quot;/hello&quot;)
    public String  hello() {
        return &quot;Hello DevTools&quot;;
    }
}
项目启动之后，访问 http://127.0.0.1:9091/demo/hello ，接着修改内容，稍等一会观察控制台会发现类
文件自动编译，且项目自动重启了，刷新页面后发现修改的内容也生效了。如果没有自动重启，
可以尝试按一下 Ctrl + S 或切换一下视图离开 IDEA ，应该就会自动重启了。

</pre>
